<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Escaping</title>
</head>
<body>
    <div><label for="userInput">Paste test input here:</label></div>
    <div>
        <textarea rows="12" cols="40" id="userInput"></textarea>
        <input type="button" value="Escape"
               onclick="document.getElementById('result').innerHTML = htmlEscape(JSON.parse(document.getElementById('userInput').value.replace(/'/g, String.fromCharCode(34))));" />
    </div>
    <div><label for="result">Results will show up here:</label></div>
    <div id="result"></div>
    <script>
        function escaping(input) {
            let forbidden = ["&", "<", ">", '"'];
            let allowed = ["&amp;", "&lt;", "&gt;", "&quot;"];

            let html = "<ul>\n";

            for (let line of input) {
                html += "  <li>";
                for (let i = 0; i < forbidden.length; i++) {
                    line = line.split(forbidden[i]).join(allowed[i]);
                }
                html += line + "</li>\n";
            }

            html += "</ul>";

            return html;
        }
    </script>
</body>
</html>

